//= require_self
//= require_tree ./config
//= require_tree ./controllers

var app = angular.module("app", ['slick', 'ngTouch', 'ngDialog', 'gridster', 'checklist-model', 'ngResource', 'ngMaterial', 'ui.router'])

app.run(['Action', '$rootScope', '$http', 'Template', 'DataSource', function(Action, $rootScope, $http, Template, DataSource){
  $rootScope.Action = Action;
  $rootScope.DataSource = DataSource;
  $rootScope.Template = Template;
  window.token = "<%= Rails.env.production? ? '6552bb812ffff1a3e13d858b4065be49aee48f8013245003339567400c1510bd' : '6552bb812ffff1a3e13d858b4065be49aee48f8013245003339567400c1510bd'%>";
  $http.defaults.headers.common.Authorization = 'Bearer ' + window.token;
}])

_.templateSettings = {
  interpolate: /\{\{(.+?)\}\}/g
};