"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="checklist-model"),angular.module("checklist-model",[]).directive("checklistModel",["$parse","$compile",function(e,n){function r(e,n,r){if(angular.isArray(e))for(var t=e.length;t--;)if(r(e[t],n))return!0;return!1}function t(e,n,t){return e=angular.isArray(e)?e:[],r(e,n,t)||e.push(n),e}function i(e,n,r){if(angular.isArray(e))for(var t=e.length;t--;)if(r(e[t],n)){e.splice(t,1);break}return e}function a(a,o,c){function l(){m(),M(),y()}function s(){return c.checklistValue?e(c.checklistValue)(a.$parent):c.value}function u(e,n){var r=h(a.$parent);angular.isFunction(h.assign)&&(n===!0?h.assign(a.$parent,t(r,e,k)):h.assign(a.$parent,i(r,e,k)))}function f(e,n){return g&&g(a)===!1?void u(s(),$(a)):void $.assign(a,r(e,s(),k))}var p=c.checklistModel;c.$set("checklistModel",null),n(o)(a),c.$set("checklistModel",p);var h=e(p),d=e(c.checklistChange),g=e(c.checklistBeforeChange),$=e(c.ngModel),k=function(e,n){return isNaN(e)||isNaN(n)?angular.equals(e,n):String(e)===String(n)};if(c.hasOwnProperty("checklistComparator"))if("."==c.checklistComparator[0]){var v=c.checklistComparator.substring(1);k=function(e,n){return e[v]===n[v]}}else k=e(c.checklistComparator)(a.$parent);var m=a.$watch(c.ngModel,function(e,n){if(e!==n){if(g&&g(a)===!1)return void $.assign(a,r(h(a.$parent),s(),k));u(s(),e),d&&d(a)}}),M=a.$watch(s,function(e,n){if(e!=n&&angular.isDefined(n)&&a[c.ngModel]===!0){var r=h(a.$parent);h.assign(a.$parent,i(r,n,k)),h.assign(a.$parent,t(r,e,k))}},!0),y=a.$on("$destroy",l);angular.isFunction(a.$parent.$watchCollection)?a.$parent.$watchCollection(p,f):a.$parent.$watch(p,f,!0)}return{restrict:"A",priority:1e3,terminal:!0,scope:!0,compile:function(e,n){if(!n.checklistValue&&!n.value)throw"You should provide `value` or `checklist-value`.";return n.ngModel||n.$set("ngModel","checked"),a}}}]);
//# sourceMappingURL=checklist-model.min.js.map